% !TEX TS-program = xelatex
% !TEX encoding = UTF-8
% !Mode:: "TeX:UTF-8"

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{cmucheme}[2018/05/18 CMU ChemE MS research project report template style file]
% \ProcessOptions\relax
% \RequirePackage{newpxtext,newpxmath}
% \RequirePackage{graphicx}
% \RequirePackage{amsmath}
% \RequirePackage{listings}
% \RequirePackage{xeCJK}
% \RequirePackage[T1]{fontenc}
% \RequirePackage{fancyhdr}
% \RequirePackage{lastpage}
% \RequirePackage{booktabs}
% \RequirePackage{parskip}
% \RequirePackage[hidelinks]{hyperref}

% % \RequirePackage{courier}
% \RequirePackage{inconsolata}

% % fonts
% \renewcommand{\rmdefault}{ptm}
% \renewcommand{\sfdefault}{phv}

% % definitions
% \def\advisor#1{\def\@advisor{#1}}\def\@advisor{}
% \def\head#1{\def\@head{#1}}\def\@head{}
% \def\semester#1{\def\@semester{#1}}\def\@semester{}
% \def\department#1{\def\@department{#1}}\def\@department{}

% % set page geometry
% \usepackage[verbose=true,letterpaper]{geometry}
% \AtBeginDocument{
%   \newgeometry{
%     textheight=9in,
%     textwidth=6.5in,
%     top=1in,
%     headheight=12pt,
%     headsep=25pt,
%     footskip=30pt
%   }
% }

% \widowpenalty=10000
% \clubpenalty=10000
% \flushbottom
% \sloppy

% % sections with less space
% \providecommand{\section}{}
% \renewcommand{\section}{%
%   \@startsection{section}{1}{\z@}%
%                 {-2.0ex \@plus -0.5ex \@minus -0.2ex}%
%                 { 1.5ex \@plus  0.3ex \@minus  0.2ex}%
%                 {\large\bf\raggedright}%
% }
% \providecommand{\subsection}{}
% \renewcommand{\subsection}{%
%   \@startsection{subsection}{2}{\z@}%
%                 {-1.8ex \@plus -0.5ex \@minus -0.2ex}%
%                 { 0.8ex \@plus  0.2ex}%
%                 {\normalsize\bf\raggedright}%
% }
% \providecommand{\subsubsection}{}
% \renewcommand{\subsubsection}{%
%   \@startsection{subsubsection}{3}{\z@}%
%                 {-1.5ex \@plus -0.5ex \@minus -0.2ex}%
%                 { 0.5ex \@plus  0.2ex}%
%                 {\normalsize\bf\raggedright}%
% }
% \providecommand{\paragraph}{}
% \renewcommand{\paragraph}{%
%   \@startsection{paragraph}{4}{\z@}%
%                 {1.5ex \@plus 0.5ex \@minus 0.2ex}%
%                 {-1em}%
%                 {\normalsize\bf}%
% }
% \providecommand{\subparagraph}{}
% \renewcommand{\subparagraph}{%
%   \@startsection{subparagraph}{5}{\z@}%
%                 {1.5ex \@plus 0.5ex \@minus 0.2ex}%
%                 {-1em}%
%                 {\normalsize\bf}%
% }
% \providecommand{\subsubsubsection}{}
% \renewcommand{\subsubsubsection}{%
%   \vskip5pt{\noindent\normalsize\rm\raggedright}%
% }

% % float placement
% \renewcommand{\topfraction      }{0.85}
% \renewcommand{\bottomfraction   }{0.4}
% \renewcommand{\textfraction     }{0.1}
% \renewcommand{\floatpagefraction}{0.7}

% \newlength{\@nipsabovecaptionskip}\setlength{\@nipsabovecaptionskip}{7\p@}
% \newlength{\@nipsbelowcaptionskip}\setlength{\@nipsbelowcaptionskip}{\z@}

% \setlength{\abovecaptionskip}{\@nipsabovecaptionskip}
% \setlength{\belowcaptionskip}{\@nipsbelowcaptionskip}

% % swap above/belowcaptionskip lengths for tables
% \renewenvironment{table}
%   {\setlength{\abovecaptionskip}{\@nipsbelowcaptionskip}%
%    \setlength{\belowcaptionskip}{\@nipsabovecaptionskip}%
%    \@float{table}}
%   {\end@float}

% % footnote formatting
% \setlength{\footnotesep }{6.65\p@}
% \setlength{\skip\footins}{9\p@ \@plus 4\p@ \@minus 2\p@}
% \renewcommand{\footnoterule}{\kern-3\p@ \hrule width 12pc \kern 2.6\p@}
% \setcounter{footnote}{0}

% % paragraph formatting
% \setlength{\parindent}{\z@}
% \setlength{\parskip  }{5.5\p@}

% % list formatting
% \setlength{\topsep       }{4\p@ \@plus 1\p@   \@minus 2\p@}
% \setlength{\partopsep    }{1\p@ \@plus 0.5\p@ \@minus 0.5\p@}
% \setlength{\itemsep      }{2\p@ \@plus 1\p@   \@minus 0.5\p@}
% \setlength{\parsep       }{2\p@ \@plus 1\p@   \@minus 0.5\p@}
% \setlength{\leftmargin   }{3pc}
% \setlength{\leftmargini  }{\leftmargin}
% \setlength{\leftmarginii }{2em}
% \setlength{\leftmarginiii}{1.5em}
% \setlength{\leftmarginiv }{1.0em}
% \setlength{\leftmarginv  }{0.5em}
% \def\@listi  {\leftmargin\leftmargini}
% \def\@listii {\leftmargin\leftmarginii
%               \labelwidth\leftmarginii
%               \advance\labelwidth-\labelsep
%               \topsep  2\p@ \@plus 1\p@    \@minus 0.5\p@
%               \parsep  1\p@ \@plus 0.5\p@ \@minus 0.5\p@
%               \itemsep \parsep}
% \def\@listiii{\leftmargin\leftmarginiii
%               \labelwidth\leftmarginiii
%               \advance\labelwidth-\labelsep
%               \topsep    1\p@ \@plus 0.5\p@ \@minus 0.5\p@
%               \parsep    \z@
%               \partopsep 0.5\p@ \@plus 0\p@ \@minus 0.5\p@
%               \itemsep \topsep}
% \def\@listiv {\leftmargin\leftmarginiv
%               \labelwidth\leftmarginiv
%               \advance\labelwidth-\labelsep}
% \def\@listv  {\leftmargin\leftmarginv
%               \labelwidth\leftmarginv
%               \advance\labelwidth-\labelsep}
% \def\@listvi {\leftmargin\leftmarginvi
%               \labelwidth\leftmarginvi
%               \advance\labelwidth-\labelsep}

%\LoadClass[a4paper]{article}

\RequirePackage{newpxtext,newpxmath}
\RequirePackage{geometry}
\RequirePackage{graphicx}
\RequirePackage{amsmath}
\RequirePackage{listings}
\RequirePackage{xeCJK}
\RequirePackage[T1]{fontenc}
\RequirePackage{fancyhdr}
\RequirePackage{lastpage}
\RequirePackage{booktabs}
\RequirePackage{parskip}
\RequirePackage[hidelinks]{hyperref}
% \RequirePackage{courier}
\RequirePackage{inconsolata}

% \DeclareOption{titlepage}{}
\DeclareOption*{\PassOptionsToClass{\CurrentOption}{article}}
\ProcessOptions\relax

\def\sid#1{\gdef\@sid{#1}}
\def\@sid{\@latex@error{No \noexpand\sid given}\@ehc}

\def\coursename#1{\gdef\@coursename{#1}}
\def\@coursename{\@latex@error{No \noexpand\coursename given}\@ehc}

\def\coursecode#1{\gdef\@coursecode{#1}}
\def\@coursecode{\@latex@error{No \noexpand\coursecode given}\@ehc}

\def\univ#1{\gdef\@univ{#1}}
\def\@univ{\@latex@error{No \noexpand\univ given}\@ehc}

\univ{SUSTech}

\geometry{
    left=.85in,
    right=.85in,
    top=1in,
    bottom=.8in,
    bindingoffset=.15in
}
\setlength{\parindent}{0pt}
\renewcommand{\baselinestretch}{1.1}
% create title
% \providecommand{\maketitle}{}
\newcommand{\mktitle}{%
  \par
  \begingroup
    \renewcommand{\thefootnote}{\fnsymbol{footnote}}
    % for perfect author name centering
    \renewcommand{\@makefnmark}{\hbox to \z@{$^{\@thefnmark}$\hss}}
    % The footnote-mark was overlapping the footnote-text,
    % added the following to fix this problem               (MK)
    \long\def\@makefntext##1{%
      \parindent 1em\noindent
      \hbox to 1.8em{\hss $\m@th ^{\@thefnmark}$}##1
    }
    \thispagestyle{empty}
    \@maketitle
    \par \vspace{1.5in}
    \begin{center}
        \setlength{\parskip}{1em}
        \par \uppercase{CS207 Digital Logic}
        \par \uppercase{2021 Fall}
        \par \uppercase{Final Project}
        \par \quad
        \par \uppercase{Southern University of Science and Technology}
        \par \MakeUppercase{Dept. of Computer Science and Engineering}
        \par \vspace{1.5em}
        \includegraphics[scale = 0.07]{cmu_logo}
        % \par \@date
    \end{center}
    \clearpage %\null% \thispagestyle{empty} \newpage
    \@thanks
  \endgroup
  \let\maketitle\relax
  \let\thanks\relax
}

% rules for title box at top of first page
\newcommand{\@toptitlebar}{
  \hrule height 4\p@
  \vskip 0.25in
  \vskip -\parskip%
}
\newcommand{\@bottomtitlebar}{
  \vskip 0.29in
  \vskip -\parskip
  \hrule height 1\p@
  \vskip 0.09in%
}

\providecommand{\@maketitle}{}
\renewcommand{\@maketitle}{%
  \vbox{%
    \hsize\textwidth
    \linewidth\hsize
    \linespread{0.7} \selectfont
    % \vskip 0.15in
    \@toptitlebar
    \centering
    {\LARGE\bf \linespread{1.1} \selectfont \@title\par}
    \@bottomtitlebar
    \vskip 0.3in
    {\bfseries Group Members: \hfill \tiny \ ~ }
    \vskip .8em
    \par 何泽安 (He Zean)\qquad \# 12011323\hfill \phantom{2}
    \vskip .2em
    \par 李子南 (Li Zinan)\qquad \# 12011517\hfill \phantom{2}
    \vskip .2em
    \par 唐昕宇 (Tang Xinyu)\hskip .7em \# 12011439\hfill \phantom{2}
    % \par \vspace{1em} {\bfseries Advisor's Name: \hfill} \phantom{2}
    % \par \@advisor \hfill \phantom{2}
    % \vspace{1em} \par {\bfseries Semester of Graduation:}  \hfill \phantom{2}
    % \par \@semester \hfill \phantom{2}
  }
}

% abstract styling
% \renewenvironment{abstract}%
% {%
%   \vskip 0.075in%
%   \centerline%
%   {\large\bf Abstract}%
%   \vspace{0.5ex}%
%   \begin{quote}%
% }
% {
%   \par%
%   \end{quote}%
%   \vskip 1ex%
% }

% % acknowledge styling
% \newenvironment{acknowledgement}%
% {%
%   \vskip 0.075in%
%   \centerline%
%   {\large\bf Acknowledgement}%
%   \vspace{0.5ex}%
%   \begin{quote}%
% }
% {
%   \par%
%   \end{quote}%
%   \vskip 1ex%
% }

% % TOC, LOF and LOT
% \usepackage{tocloft}
% \renewcommand{\cftdotsep}{1.2}
% \renewcommand\cftsecfont{\normalfont}
% \renewcommand{\cftsecpagefont}{\normalfont}
% \setlength{\cftbeforesecskip}{5pt}
% \setlength{\cftbeforesubsecskip}{5pt}
% \setlength{\cftbeforesubsubsecskip}{5pt}
% \renewcommand{\cftsecleader}{\cftdotfill{\cftdotsep}}
% \renewcommand\cftsecdotsep{1.2}

% % basic packages
% \usepackage[utf8]{inputenc} % allow utf-8 input
% \usepackage[T1]{fontenc}    % use 8-bit T1 fonts
% \usepackage{hyperref}       % hyperlinks
% \usepackage{url}            % simple URL typesetting
% \usepackage{amsfonts}       % blackboard math symbols
% \usepackage{nicefrac}       % compact symbols for 1/2, etc.
% \usepackage{microtype}      % microtypography
% \usepackage{amsmath}
% \usepackage{mathtools}
% \usepackage[nottoc, notlot, notlof]{tocbibind}

% % table packages
% \usepackage{multirow}
% \usepackage{makecell}
% \usepackage{siunitx}
% \sisetup{table-number-alignment=center, exponent-product=\cdot}
% \usepackage{rotating}
% \usepackage[justification=centering]{caption}
% \usepackage{lscape}
% \usepackage{booktabs}       % professional-quality tables

% % lipsum
% \usepackage{lipsum}

% % set spacing for LOF and LOT
% \renewcommand\cftfigafterpnum{\vskip5pt\par}
% \renewcommand\cfttabafterpnum{\vskip5pt\par}

% % appendix packages
% \usepackage[titletoc]{appendix}
% \usepackage{tocvsec2}

% % tikz packages
% \usepackage{tikz}
% \usetikzlibrary{positioning}
% \usetikzlibrary{shapes}
% \usetikzlibrary{arrows.meta}
% \usetikzlibrary{backgrounds}
% \usetikzlibrary{patterns}

% % citation format
% % \usepackage[sort&compress,numbers,super]{natbib}
% % \usepackage{cite}
% \usepackage[numbers,super]{natbib}
% % \renewcommand\citeleft{(}
% % \renewcommand\citeright{)}
% \makeatletter
% \renewcommand{\@biblabel}[1]{(#1)}
% \makeatother
% \renewcommand{\bibname}{References}

% % settings for nomenclatures
% \usepackage{nomencl}
% \makenomenclature
% \setlength\nomlabelwidth{1.5cm}   % set the indent for the label
% \usepackage{etoolbox}
% \renewcommand\nomgroup[1]{%
%   \item[\bfseries
%   \ifstrequal{#1}{A}{Sets}{%
%   \ifstrequal{#1}{B}{Parameters}{%
%   \ifstrequal{#1}{C}{Variables}{}}}%
% ]}

% % 4 lines per inch
% \linespread{1.302}
% \selectfont

% % new bar (long enough)
% \makeatletter
% \newsavebox\myboxA
% \newsavebox\myboxB
% \newlength\mylenA

% \renewcommand*\bar[2][0.75]{%
%     \sbox{\myboxA}{$\m@th#2$}%
%     \setbox\myboxB\null% Phantom box
%     \ht\myboxB=\ht\myboxA%
%     \dp\myboxB=\dp\myboxA%
%     \wd\myboxB=#1\wd\myboxA% Scale phantom
%     \sbox\myboxB{$\m@th\overline{\copy\myboxB}$}%  Overlined phantom
%     \setlength\mylenA{\the\wd\myboxA}%   calc width diff
%     \addtolength\mylenA{-\the\wd\myboxB}%
%     \ifdim\wd\myboxB<\wd\myboxA%
%        \rlap{\hskip 0.5\mylenA\usebox\myboxB}{\usebox\myboxA}%
%     \else
%         \hskip -0.5\mylenA\rlap{\usebox\myboxA}{\hskip 0.5\mylenA\usebox\myboxB}%
%     \fi}
% \makeatother
\if@twocolumn
	\renewcommand{\maketitle}{\twocolumn[\mktitle]}
\else
	\renewcommand{\maketitle}{\mktitle}
\fi

% \pagestyle{fancy}
% \fancyhf{}
% \renewcommand{\headrulewidth}{0.3pt}


% \lhead{\textsc{He Zean $\cdot$ 12011323}}
% \chead{\textsc{\@coursecode~$\circ$~\@title}}
% \rhead{\thepage~/~\pageref{LastPage}}


% tex settings moved here %

\usepackage{listings}
\usepackage{blindtext}
\usepackage{listings}
\usepackage{color}
\usepackage{xcolor}
\usepackage{indentfirst}
\usepackage{pifont}
\usepackage {subcaption}
\usepackage{hyperref}
\usepackage{fontspec}
\usepackage{cite}
\usepackage{marginnote}
\usepackage{tikz}
\usetikzlibrary{arrows,shapes,chains}

\setmonofont[Mapping={}]{Monaco}	%英文引号之类的正常显示，相当于设置英文字体

\urlstyle{
colorlinks=true,
    linkcolor=blue,
    filecolor=magenta,      
    urlcolor=cyan,
    pdftitle={Overleaf Example},
    pdfpagemode=FullScreen,}

\definecolor{dkgreen}{rgb}{0,0.6,0}
\definecolor{gray}{rgb}{0.5,0.5,0.5}
\definecolor{mauve}{rgb}{0.58,0,0.82}

\lstset{
  basicstyle=\footnotesize\ttfamily,       % the size of the fonts that are used for the code
  numbers=left,                   % where to put the line-numbers
  numberstyle=\tiny\color{gray},  % the style that is used for the line-numbers
  stepnumber=1,                   % the step between two line-numbers. If it's 1, each line 
                                  % will be numbered
  numbersep=15pt,                  % how far the line-numbers are from the code
  framexleftmargin=5pt,
  framexrightmargin=5pt,
  backgroundcolor=\color[RGB]{245,245,244},   %代码背景色
  showspaces=false,               % show spaces adding particular underscores
  showstringspaces=false,         % underline spaces within strings
  showtabs=false,                 % show tabs within strings adding particular underscores
  frame=single,                   % adds a frame around the code
  rulecolor=\color{black},        % if not set, the frame-color may be changed on line-breaks within not-black text (e.g. commens (green here))
  tabsize=4,                      % sets default tabsize to 2 spaces
  captionpos=b,                   % sets the caption-position to bottom
  breaklines=true,                % sets automatic line breaking
  breakatwhitespace=false,        % sets if automatic breaks should only happen at whitespace
  title=\lstname,                 % show the filename of files included with \lstinputlisting;
                                  % also try caption instead of title
  keywordstyle=\color{blue},      % keyword style
  commentstyle=\color{dkgreen},   % comment style
  stringstyle=\color{mauve},      % string literal style
  escapeinside={\%*}{*)},         % if you want to add LaTeX within your code
  morekeywords={*,alignas,continute,friend,register,true,alignof,decltype,goto,
    reinterpret_cast,try,asm,defult,if,return,typedef,auto,delete,inline,short,
    typeid,bool,do,int,signed,typename,break,double,long,sizeof,union,case,
    dynamic_cast,mutable,static,unsigned,catch,else,namespace,static_assert,using,
    char,enum,new,static_cast,virtual,char16_t,char32_t,explict,noexcept,struct,
    void,export,nullptr,switch,volatile,class,extern,operator,template,wchar_t,
    const,false,private,this,while,constexpr,float,protected,thread_local,
    const_cast,for,public,throw,std},
    emph={map,set,multimap,multiset,unordered_map,unordered_set,
    unordered_multiset,unordered_multimap,vector,string,list,deque,
    array,stack,forwared_list,iostream,memory,shared_ptr,unique_ptr,
    random,bitset,ostream,istream,cout,cin,endl,move,default_random_engine,
    uniform_int_distribution,iterator,algorithm,functional,bing,numeric,}
}
% end tex settings %

\endinput
