# 总结及优化

## 遇到的问题

​	在开发过程中，我们遇到了大大小小的许多问题，为此熬了不少夜，但好在最后都顺利解决了。我们在一开始设计状态机时没有明确设计思路，所以第一版写了一个两段式状态机。但是因为状态数太多，状态转移条件太多非常难debug，所以后面对状态机进行了重构，改为三段式状态机，将输入输出规范化。但后面在状态切换方面还是有很大的问题，后期经过长时间的debug，我们发现要将变量赋值的语句都放在状态机的输出部分，才能正常执行。在显示方面，我们还遇到了无法显示的问题，后面检查发现是因为在两个always块中分别对同一个变量进行了赋值，导致冲突。

## 系统特色

​	我们的停车场系统**使用5个按钮**实现了所有的状态转移，使用按钮可以简单的切换状态，降低了操作难度，避免了拨码开关繁琐的操作，且更加符合我们平常的使用习惯。我们还使用了键盘作为输入，并且可以**实时显示输入的内容**，增加了系统的易用性，我们的输入还支持数字以外的输入，给了用户更多的选择空间。我们的显示模块可以根据输入的数字和模式信号切换不同的显示效果，有闲置状态滚动显示，vip滚动显示和静态显示3种模式，这样设计使后期的修改成本大大减小。我们还加入了背景音乐并赋予音乐一个单独的开关，提高了用户体验和趣味性。

## 优化方向

​	我们的停车场系统还有一些可以优化的地方，第一个就是按钮的灵敏程度，我们按钮的灵敏程度较低，有时会出现按下无反应的情况或者是连续识别多次。初步推测是因为按钮的分频没有设置好，后续可以考虑优化。再就是显示的准确性，受限于七段数码管的长度，我们的显示信息都不是特别完整，后续可以考虑应用七段数码管之外的硬件作为辅助显示。

   另外，显示模块滚动显示的地方还可以再进行优化，因为滚动显示中的状态变化使用列举的方法，并没有写算法优化逻辑及语句，代码不灵活，当要使用多个滚动显示时代码量很多。、

   键盘输入模块可以优化的地方是，并没有设置退格功能，一旦输入之后无法删除，只能返回后重新进入，这其实是会影响用户体验的。

